# Инициализация карт

Для пустых карт и карт, заполняемых программным путем, предпочтительнее использовать "make(..)"
. Это визуально отличает инициализацию карты
от объявления и упрощает добавление
подсказок по размеру позже, если таковые имеются.

<table>
<thead><tr><th>Bad</th><th>Good</th></tr></thead>
<tbody>
<tr><td>

```go
var (
  // m1 безопасен для чтения и записи;
  // m2 будет паниковать при записи.
  m1 = map[T1]T2{}
  m2 map[T1]T2
)
```

</td><td>

```go
var (
  // m1 безопасен для чтения и записи;
  // m2 будет паниковать при записи.
  m1 = make(map[T1]T2)
  m2 map[T1]T2
)
```

</td></tr>
<tr><td>

Объявление и инициализация визуально схожи.

</td><td>

Объявление и инициализация визуально различаются.

</td></tr>
</tbody></table>

Там, где это возможно, указывайте емкость при инициализации
карт с помощью `make()`. Видеть
[Указание подсказок о вместимости карты] (container-capacity.md#указание подсказок о вместимости карты)
для получения дополнительной информации.

С другой стороны, если карта содержит фиксированный список элементов,
используйте литералы карты для инициализации карты.

<table>
<thead><tr><th>Bad</th><th>Good</th></tr></thead>
<tbody>
<tr><td>

```go
m := make(map[T1]T2, 3)
m[k1] = v1
m[k2] = v2
m[k3] = v3
```

</td><td>

```go
m := map[T1]T2{
  k1: v1,
  k2: v2,
  k3: v3,
}
```

</td></tr>
</tbody></table>

Основное эмпирическое правило заключается в использовании литералов map при добавлении фиксированного набора
элементов во время инициализации, в противном случае используйте `make` (и укажите подсказку по размеру, 
если таковая имеется).
